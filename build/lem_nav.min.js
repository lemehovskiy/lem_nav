"use strict";function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_createClass=function(){function n(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}();!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"undefined"!=typeof exports?module.exports=n(require("jquery")):n(jQuery)}(function(n){var e=function(){function e(t,o){_classCallCheck(this,e);var r=this;r.nav={},r.nav.dropdowns=[],r.nav.navbar_open=!1,r.$navbar=n(t),r.settings=n.extend({navbar_toggle:".lem-navbar-toggle",collapse_duration:.2,trigger:"click",trigger_linked:!1,extra_trigger_button:"<button class='extra-trigger'>+</button>",navbar_collapse_duration:.5,on_dropdown_shown:function(){},on_dropdown_hide:function(){}},o),r.init()}return _createClass(e,[{key:"init",value:function(){var e=this;e.is_touch_device()&&n("body").addClass("is-touch"),"click"==this.settings.trigger&&e.$navbar.addClass("trigger-click"),e.settings.trigger_linked&&e.extra_trigger(),this.store_dropdowns_data(),"click"==e.settings.trigger?(n(window).click(function(){e.close_all()}),e.nav.dropdowns.forEach(function(n){n.trigger.on("click",function(t){t.stopPropagation(),n.open?(console.log("111"),e.close({dropdown:n})):(console.log("222"),e.close_all(),e.open({dropdown:n}))})})):"hover"!=e.settings.trigger||e.is_touch_device()||e.nav.dropdowns.forEach(function(n){n.trigger.hover(function(){e.open({dropdown:n})},function(){e.close({dropdown:n})})}),e.navbar_collapse()}},{key:"store_dropdowns_data",value:function(){this.$navbar.find(".menu-item-has-children").each(function(){var e=n(this);this.nav.dropdowns.push({nav_item:e,trigger:e,menu:e.find(">.sub-menu"),menu_items:e.find(">.sub-menu >li"),open:n()})}.bind(this)),this.nav.dropdowns.forEach(function(n){n.menu_items_tl=new TimelineMax({paused:!0})})}},{key:"close_all",value:function(){var n=this;n.nav.dropdowns.forEach(function(e){e.open&&n.close({dropdown:e})})}},{key:"navbar_collapse",value:function(){var e=this;e.nav.navbar_trigger=n(e.settings.navbar_toggle),e.nav.navbar_trigger.on("click",function(){e.nav.navbar_open?(TweenLite.to(e.$navbar,e.settings.navbar_collapse_duration,{height:0}),e.nav.navbar_open=!1,e.nav.navbar_trigger.removeClass("open")):(TweenLite.set(e.$navbar,{height:"auto"}),TweenLite.from(e.$navbar,e.settings.navbar_collapse_duration,{height:0}),e.nav.navbar_open=!0,e.nav.navbar_trigger.addClass("open"))})}},{key:"extra_trigger",value:function(){var e=this;e.nav.dropdowns.forEach(function(t){var o=n(e.settings.extra_trigger_button);t.nav_item.append(o)})}},{key:"open",value:function(n){function e(){t.settings.on_dropdown_shown()}var t=this,o=n.dropdown,r=o.menu.outerHeight();TweenLite.set(o.menu,{height:"auto"}),TweenLite.from(o.menu,t.settings.collapse_duration,{height:r,onComplete:e}),o.open=!0,o.nav_item.addClass("open")}},{key:"close",value:function(n){var e=this,t=n.dropdown;e.settings.on_dropdown_hide(),TweenLite.to(t.menu,e.settings.collapse_duration,{height:0}),t.open=!1,t.nav_item.removeClass("open")}},{key:"is_touch_device",value:function(){try{return document.createEvent("TouchEvent"),!0}catch(n){return!1}}}]),e}();n.fn.lemNav=function(){var n=this,t=arguments[0],o=Array.prototype.slice.call(arguments,1),r=n.length,a=void 0,i=void 0;for(a=0;a<r;a++)if("object"==(void 0===t?"undefined":_typeof(t))||void 0===t?n[a].lem_nav=new e(n[a],t):i=n[a].lem_nav[t].apply(n[a].lem_nav,o),void 0!==i)return i;return n}});
//# sourceMappingURL=lem_nav.min.js.map
